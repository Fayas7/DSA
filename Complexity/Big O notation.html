<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Big O Notation</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;700;800&display=swap');

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --border: #1e1e2e;
    --text: #e8e8f0;
    --muted: #666680;
    --accent: #7c6af7;

    --c1: #ff4d6d; /* O(n!) */
    --c2: #ff8c42; /* O(2^n) */
    --c3: #ffd166; /* O(n²) */
    --c4: #06d6a0; /* O(n log n) */
    --c5: #4cc9f0; /* O(n) */
    --c6: #7c6af7; /* O(log n) */
    --c7: #b5e48c; /* O(1) */
  }

  body {
    font-family: 'Space Mono', monospace;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
    overflow-x: hidden;
  }

  h1 {
    font-family: 'Syne', sans-serif;
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    letter-spacing: -0.02em;
    margin-bottom: 6px;
    background: linear-gradient(135deg, #fff 30%, var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .subtitle {
    color: var(--muted);
    font-size: 0.75rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 40px;
  }

  .chart-container {
    position: relative;
    width: 100%;
    max-width: 820px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px;
    box-shadow: 0 0 80px rgba(124, 106, 247, 0.08);
  }

  canvas {
    display: block;
    width: 100% !important;
  }

  .legend {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 10px;
    margin-top: 28px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.2s;
    background: transparent;
  }

  .legend-item:hover, .legend-item.active {
    background: rgba(255,255,255,0.04);
    border-color: rgba(255,255,255,0.15);
    transform: translateY(-1px);
  }

  .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .legend-label {
    font-size: 0.72rem;
    color: var(--muted);
    transition: color 0.2s;
  }

  .legend-item:hover .legend-label,
  .legend-item.active .legend-label {
    color: var(--text);
  }

  .complexity-table {
    width: 100%;
    max-width: 820px;
    margin-top: 24px;
    border-collapse: collapse;
    font-size: 0.72rem;
  }

  .complexity-table th {
    font-family: 'Syne', sans-serif;
    font-size: 0.65rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--muted);
    padding: 10px 14px;
    text-align: left;
    border-bottom: 1px solid var(--border);
  }

  .complexity-table td {
    padding: 10px 14px;
    border-bottom: 1px solid rgba(30,30,46,0.6);
    vertical-align: middle;
  }

  .complexity-table tr:last-child td { border-bottom: none; }

  .badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }
</style>
</head>
<body>

<h1>Big O Notation</h1>
<p class="subtitle">Algorithm Complexity — Time vs Input Size</p>

<div class="chart-container">
  <canvas id="chart" height="380"></canvas>
  <div class="legend" id="legend"></div>
</div>

<table class="complexity-table">
  <thead>
    <tr>
      <th>Notation</th>
      <th>Name</th>
      <th>Rating</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
const complexities = [
  { label: 'O(1)',       color: '#b5e48c', rating: 'Excellent', ratingColor: '#b5e48c', name: 'Constant',         fn: n => 1,                 ex: 'Array index access' },
  { label: 'O(log n)',   color: '#7c6af7', rating: 'Good',      ratingColor: '#7c6af7', name: 'Logarithmic',     fn: n => Math.log2(n + 1),  ex: 'Binary search' },
  { label: 'O(n)',       color: '#4cc9f0', rating: 'Fair',      ratingColor: '#4cc9f0', name: 'Linear',           fn: n => n,                 ex: 'Linear search' },
  { label: 'O(n log n)', color: '#06d6a0', rating: 'Fair',     ratingColor: '#06d6a0', name: 'Linearithmic',     fn: n => n * Math.log2(n + 1), ex: 'Merge sort' },
  { label: 'O(n²)',      color: '#ffd166', rating: 'Bad',      ratingColor: '#ffd166', name: 'Quadratic',         fn: n => n * n,             ex: 'Bubble sort' },
  { label: 'O(2ⁿ)',      color: '#ff8c42', rating: 'Horrible', ratingColor: '#ff8c42', name: 'Exponential',       fn: n => Math.pow(2, n),    ex: 'Recursive Fibonacci' },
  { label: 'O(n!)',      color: '#ff4d6d', rating: 'Horrible', ratingColor: '#ff4d6d', name: 'Factorial',          fn: n => {let r=1; for(let i=2;i<=n;i++) r*=i; return r;}, ex: 'Permutations' },
];

const N = 20;
const xs = Array.from({length: N+1}, (_,i) => i);

const canvas = document.getElementById('chart');
const ctx = canvas.getContext('2d');
const dpr = window.devicePixelRatio || 1;

function resize() {
  const w = canvas.parentElement.clientWidth - 64;
  const h = 380;
  canvas.width = w * dpr;
  canvas.height = h * dpr;
  canvas.style.width = w + 'px';
  canvas.style.height = h + 'px';
  ctx.scale(dpr, dpr);
  draw();
}

const hidden = new Set();

function draw() {
  const W = canvas.width / dpr;
  const H = canvas.height / dpr;
  const pad = { top: 20, right: 20, bottom: 40, left: 56 };
  const pw = W - pad.left - pad.right;
  const ph = H - pad.top - pad.bottom;

  ctx.clearRect(0, 0, W, H);

  // Max Y (cap to something visible)
  const maxY = 200;

  function toX(n) { return pad.left + (n / N) * pw; }
  function toY(v) { return pad.top + ph - Math.min(v, maxY) / maxY * ph; }

  // Grid
  ctx.strokeStyle = 'rgba(255,255,255,0.04)';
  ctx.lineWidth = 1;
  for (let i = 0; i <= 5; i++) {
    const y = pad.top + (i / 5) * ph;
    ctx.beginPath(); ctx.moveTo(pad.left, y); ctx.lineTo(pad.left + pw, y); ctx.stroke();
    const yv = Math.round(maxY * (1 - i/5));
    ctx.fillStyle = 'rgba(255,255,255,0.2)';
    ctx.font = '10px Space Mono, monospace';
    ctx.textAlign = 'right';
    ctx.fillText(yv, pad.left - 8, y + 4);
  }
  for (let i = 0; i <= 4; i++) {
    const x = pad.left + (i / 4) * pw;
    ctx.beginPath(); ctx.moveTo(x, pad.top); ctx.lineTo(x, pad.top + ph); ctx.stroke();
    ctx.fillStyle = 'rgba(255,255,255,0.2)';
    ctx.textAlign = 'center';
    ctx.fillText(Math.round(N * i / 4), x, H - 14);
  }

  // Axes labels
  ctx.fillStyle = 'rgba(255,255,255,0.3)';
  ctx.font = '10px Space Mono, monospace';
  ctx.textAlign = 'center';
  ctx.fillText('Input Size (n)', pad.left + pw/2, H - 2);

  ctx.save();
  ctx.translate(12, pad.top + ph/2);
  ctx.rotate(-Math.PI/2);
  ctx.fillText('Operations', 0, 0);
  ctx.restore();

  // Lines
  complexities.forEach(c => {
    if (hidden.has(c.label)) return;
    ctx.beginPath();
    ctx.strokeStyle = c.color;
    ctx.lineWidth = 2.5;
    ctx.shadowColor = c.color;
    ctx.shadowBlur = 6;
    xs.forEach((n, i) => {
      const y = toY(c.fn(n));
      if (i === 0) ctx.moveTo(toX(n), y);
      else ctx.lineTo(toX(n), y);
    });
    ctx.stroke();
    ctx.shadowBlur = 0;
  });

  // Axes border
  ctx.strokeStyle = 'rgba(255,255,255,0.12)';
  ctx.lineWidth = 1;
  ctx.strokeRect(pad.left, pad.top, pw, ph);
}

// Legend
const legendEl = document.getElementById('legend');
complexities.forEach(c => {
  const item = document.createElement('div');
  item.className = 'legend-item active';
  item.innerHTML = `<div class="legend-dot" style="background:${c.color}"></div><span class="legend-label">${c.label}</span>`;
  item.addEventListener('click', () => {
    if (hidden.has(c.label)) { hidden.delete(c.label); item.classList.add('active'); }
    else { hidden.add(c.label); item.classList.remove('active'); }
    draw();
  });
  legendEl.appendChild(item);
});

// Table
const tbody = document.getElementById('tableBody');
complexities.forEach(c => {
  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td style="color:${c.color}; font-weight:700">${c.label}</td>
    <td style="color:rgba(232,232,240,0.7)">${c.name}</td>
    <td><span class="badge" style="background:${c.ratingColor}22; color:${c.ratingColor}; border:1px solid ${c.ratingColor}44">${c.rating}</span></td>
    <td style="color:rgba(232,232,240,0.5)">${c.ex}</td>
  `;
  tbody.appendChild(tr);
});

window.addEventListener('resize', resize);
resize();
</script>
</body>
</html>
